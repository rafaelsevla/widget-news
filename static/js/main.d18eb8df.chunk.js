(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,a){},166:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),o=a(33),s=a(85),i=a(23),l=a(11),u=a(71),E=a(72),p=a(73),f=a(89),d=a(74),h=a(90),m=a(175),S=a(174),g=a(75),N=a.n(g),w=a(82),O="FETCH_NEWS",b="FETCH_NEWS_SUCCESS",y="FETCH_NEWS_FAIL",_="FETCH_MORE_NEWS",A="FETCH_MORE_NEWS_SUCCESS",C="FETCH_MORE_NEWS_FAIL",j="FETCH_SOURCES_SUCCESS",v="FETCH_NEWS_BY_SOURCE",I="FETCH_NEWS_BY_SOURCE_SUCCESS",T="FETCH_NEWS_BY_SOURCE_FAIL",R=a(76),P=a.n(R),M=a(77),H={API:{BASE:"https://newsapi.org/v2/",EVERYTHING:"everything/",SOURCES:"sources/",TOP_HEADLINES:"top-headlines/"},API_TOKEN:"1f12ab3dfb3a44b190e4ebaaf3a531c1"},B=a.n(M).a.create({baseURL:H.API.BASE,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:3e4});B.interceptors.request.use(function(e){return P.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e.headers.Authorization=H.API_TOKEN,t.abrupt("return",e);case 2:case"end":return t.stop()}})},function(e){return Promise.reject(e)});var k=B,F=a(180),z=a(181),U=a(182),x=a(173),L=function(e){var t=e.children,a=e.options,n=e.onClick;return c.a.createElement(F.a,{className:"button-dropdown"},c.a.createElement(z.a,{caret:!0},t),c.a.createElement(U.a,{modifiers:{setMaxHeight:{enabled:!0,order:890,fn:function(e){return Object(l.a)({},e,{styles:Object(l.a)({},e.styles,{overflow:"auto",maxHeight:200})})}}}},c.a.createElement("div",null,!!a.length&&a.map(function(e){return c.a.createElement(x.a,{onClick:function(){return n(e)},key:e.id},e.name)}))))},W=a(78),D=a(81),Y=(a(165),function(e){var t=e.loading,a=void 0!==t&&t,n=e.children,r=void 0===n?"Submit":n,o=e.disabled,s=void 0!==o&&o,i=e.onClick;return c.a.createElement(W.a,{disabled:s,outline:!0,color:"danger",className:"mt-3 btn-block",onClick:i},a?c.a.createElement(D.BarLoader,{css:{width:"100%"},color:"#ff4081",loading:!0}):r)}),V=a(176),X=a(177),G=a(178),J=a(179),K=function(e){var t=e.article;return c.a.createElement(S.a,{className:"pt-3"},c.a.createElement(m.a,{xs:12},c.a.createElement(V.a,null,c.a.createElement(X.a,null,c.a.createElement(G.a,{className:"font-weight-bold"},c.a.createElement("a",{href:t.url,target:"_blank",className:"url-article",rel:"noopener noreferrer"},t.title)),c.a.createElement(G.a,null,c.a.createElement("small",{className:"text-muted"},function(e){var t=e.split("T")[0].split("-");return"".concat(t[2],"/").concat(t[1],"/").concat(t[0])}(t.publishedAt)),"\xa0 \xa0 \xa0",c.a.createElement(J.a,{color:"secondary"},t.source.name))))))};a(166);function q(){var e=Object(u.a)(["\n  margin-top: 5rem;\n"]);return q=function(){return e},e}var Q=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={dropdownOpen:!1},a.fetchBySource=function(e){a.props.fetchBySource(e.id)},a.toggle=function(){a.setState({dropdownOpen:!a.state.dropdownOpen})},a.renderNews=function(e,t,n,r,o,s){return c.a.createElement(m.a,{xs:6,className:"mb-5"},c.a.createElement(m.a,{xs:12},c.a.createElement(S.a,{xs:12},c.a.createElement("h3",null,c.a.createElement("a",{href:window.location.href},"News")),c.a.createElement(L,{options:s,onClick:function(e){return a.fetchBySource(e)}},"Filter By Source"))),t?c.a.createElement(Z,{active:!0,spinner:!0,text:"Loading your content..."}):c.a.createElement(c.a.Fragment,null,n.articles.map(function(e){return c.a.createElement(K,{key:e.url,article:e})}),c.a.createElement(Y,{disabled:e,loading:r,onClick:function(){return a.props.fetchMoreNews(o)}},e?"No More News":"Show More")))},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchNews(5),this.props.fetchSources()}},{key:"render",value:function(){var e=this.props,t=e.hasNoMoreNews,a=e.fetchingNews,n=e.fetchingMore,r=e.news,o=e.pageSize,s=e.sources;return c.a.createElement(S.a,{className:"justify-content-center"},this.renderNews(t,a,r,n,o,s))}}]),t}(n.Component),Z=Object(w.a)(N.a)(q()),$={fetchBySource:function(e){return function(t){t({type:v}),k.get("".concat(H.API.BASE).concat(H.API.EVERYTHING,"?pageSize=5&sources=").concat(e)).then(function(a){t({type:I,payload:Object(l.a)({},a.data,{source:e})})}).catch(function(){t({type:T}),alert("Algo inesperado aconteceu. Por favor, reinicie a p\xe1gina.")})}},fetchNews:function(){return function(e){e({type:O}),k.get("".concat(H.API.BASE).concat(H.API.TOP_HEADLINES,"?country=us&pageSize=5")).then(function(t){e({type:b,payload:t.data})}).catch(function(){e({type:y}),alert("Algo inesperado aconteceu. Por favor, reinicie a p\xe1gina.")})}},fetchMoreNews:function(e){return function(t,a){t({type:_});var n=a().main.source.length?"".concat(H.API.BASE).concat(H.API.EVERYTHING,"?pageSize=").concat(e,"&sources=").concat(a().main.source):"".concat(H.API.BASE).concat(H.API.TOP_HEADLINES,"?country=us&pageSize=").concat(e);k.get(n).then(function(e){t({type:A,payload:e.data})}).catch(function(){t({type:C}),alert("Algo inesperado aconteceu. Por favor, reinicie a p\xe1gina.")})}},fetchSources:function(){return function(e){k.get("".concat(H.API.BASE).concat(H.API.SOURCES,"?country=us&language=en")).then(function(t){e({type:j,payload:t.data})})}}},ee=Object(o.b)(function(e){var t=e.main;return Object(l.a)({},t)},$)(Q),te=function(){return c.a.createElement(s.a,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",component:ee}),c.a.createElement(i.a,{exact:!0,path:"/widget-news",component:ee})))},ae=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(te,null))},ne=a(15),ce=a(86),re={hasNoMoreNews:!1,fetchingNews:!1,fetchingNewsError:!1,fetchingMoreNewsError:!1,fetchingMore:!1,news:{articles:[],totalResults:0},pageSize:5,sources:[],source:""},oe=Object(ne.c)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case v:return Object(l.a)({},e,{fetchingNews:!0,pageSize:5,hasNoMoreNews:!1,source:""});case b:return Object(l.a)({},e,{fetchingNews:!1,pageSize:e.pageSize+5,news:{articles:t.payload.articles,totalResults:t.payload.totalResults}});case I:return Object(l.a)({},e,{fetchingNews:!1,pageSize:e.pageSize+5,source:t.payload.source,news:{articles:t.payload.articles,totalResults:t.payload.totalResults}});case y:case T:return Object(l.a)({},e,{fetchingNews:!1,fetchingNewsError:!0});case _:return Object(l.a)({},e,{fetchingMore:!0});case A:return Object(l.a)({},e,{hasNoMoreNews:e.news.articles.length>=e.news.totalResults||!1,fetchingMore:!1,pageSize:e.pageSize+5,news:{articles:t.payload.articles,totalResults:t.payload.totalResults}});case C:return Object(l.a)({},e,{fetchingMore:!1,fetchingMoreNewsError:!0});case j:return Object(l.a)({},e,{sources:t.payload.sources});default:return e}}}),se=a(49),ie=a(87),le={timeout:1e4,key:"root",storage:a.n(ie).a},ue=Object(se.a)(le,oe),Ee=Object(ne.d)(Object(ne.a)(ce.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}),pe=Object(ne.e)(ue,{},Ee),fe=Object(se.b)(pe),de=a(88);a(170),a(171);Object(r.render)(c.a.createElement(o.a,{store:pe},c.a.createElement(de.a,{loading:null,persistor:fe},c.a.createElement(ae,null))),document.getElementById("root"))},92:function(e,t,a){e.exports=a(172)}},[[92,1,2]]]);
//# sourceMappingURL=main.d18eb8df.chunk.js.map